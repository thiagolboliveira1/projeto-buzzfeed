{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Thiago/Documents/estudos/projeto-buzzfeed/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport quizz_questions from \"../../../assets/data/quizz_questions.json\";\nlet QuizzComponent = class QuizzComponent {\n  constructor() {\n    this.title = \"\";\n    this.answers = [];\n    this.answersSelected = \"\";\n    this.questionIndex = 0;\n    this.questionMaxIndex = 0;\n    this.finished = false;\n  }\n\n  ngOnInit() {\n    if (quizz_questions) {\n      this.finished = false;\n      this.title = quizz_questions.title;\n      this.questions = quizz_questions.questions;\n      this.questionSelected = this.questions[this.questionIndex];\n      this.questionIndex = 0;\n      this.questionMaxIndex = this.questions.length;\n    }\n  }\n\n  playerChoose(value) {\n    this.answers.push(value);\n    this.nextStep();\n  }\n\n  nextStep() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.questionIndex += 1;\n\n      if (_this.questionMaxIndex > _this.questionIndex) {\n        _this.questionSelected = _this.questions[_this.questionIndex];\n      } else {\n        const finalAnswer = yield _this.checkResult(_this.answers);\n        _this.finished = true;\n        _this.answersSelected = quizz_questions.results[finalAnswer]; //Verificar opção ganhadora\n      }\n    })();\n  }\n\n  checkResult(anwsers) {\n    return _asyncToGenerator(function* () {\n      const result = anwsers.reduce((previous, current, i, arr) => {\n        if (arr.filter(item => item === previous).length > arr.filter(item => item === current).length) {\n          return previous;\n        } else {\n          return current;\n        }\n      });\n      return result;\n    })();\n  }\n\n};\nQuizzComponent = __decorate([Component({\n  selector: 'app-quizz',\n  templateUrl: './quizz.component.html',\n  styleUrls: ['./quizz.component.css']\n})], QuizzComponent);\nexport { QuizzComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AAOA,IAAaC,cAAc,GAA3B,MAAaA,cAAb,CAA2B;EAgBzBC;IAbA,aAAe,EAAf;IAKA,eAAmB,EAAnB;IACA,uBAAyB,EAAzB;IAEA,qBAAuB,CAAvB;IACA,wBAA0B,CAA1B;IAEA,gBAAmB,KAAnB;EAEiB;;EAEjBC,QAAQ;IACN,IAAGH,eAAH,EAAmB;MACjB,KAAKI,QAAL,GAAgB,KAAhB;MACA,KAAKC,KAAL,GAAaL,eAAe,CAACK,KAA7B;MAEA,KAAKC,SAAL,GAAiBN,eAAe,CAACM,SAAjC;MACA,KAAKC,gBAAL,GAAwB,KAAKD,SAAL,CAAe,KAAKE,aAApB,CAAxB;MAEA,KAAKA,aAAL,GAAqB,CAArB;MACA,KAAKC,gBAAL,GAAwB,KAAKH,SAAL,CAAeI,MAAvC;IAED;EACF;;EAEDC,YAAY,CAACC,KAAD,EAAa;IACvB,KAAKC,OAAL,CAAaC,IAAb,CAAkBF,KAAlB;IACA,KAAKG,QAAL;EACD;;EAEKA,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACP,aAAL,IAAqB,CAArB;;MAEA,IAAG,KAAI,CAACC,gBAAL,GAAwB,KAAI,CAACD,aAAhC,EAA8C;QAC1C,KAAI,CAACD,gBAAL,GAAwB,KAAI,CAACD,SAAL,CAAe,KAAI,CAACE,aAApB,CAAxB;MACH,CAFD,MAEK;QACH,MAAMQ,WAAW,SAAiB,KAAI,CAACC,WAAL,CAAiB,KAAI,CAACJ,OAAtB,CAAlC;QACA,KAAI,CAACT,QAAL,GAAgB,IAAhB;QACA,KAAI,CAACc,eAAL,GAAuBlB,eAAe,CAACmB,OAAhB,CAAwBH,WAAxB,CAAvB,CAHG,CAIH;MACD;IAVW;EAWb;;EAEKC,WAAW,CAACG,OAAD,EAAiB;IAAA;MAChC,MAAMC,MAAM,GAAGD,OAAO,CAACE,MAAR,CAAe,CAACC,QAAD,EAAWC,OAAX,EAAoBC,CAApB,EAAuBC,GAAvB,KAA6B;QACzD,IACEA,GAAG,CAACC,MAAJ,CAAWC,IAAI,IAAIA,IAAI,KAAKL,QAA5B,EAAsCb,MAAtC,GACAgB,GAAG,CAACC,MAAJ,CAAWC,IAAI,IAAIA,IAAI,KAAKJ,OAA5B,EAAqCd,MAFvC,EAGC;UACC,OAAOa,QAAP;QACD,CALD,MAKK;UACH,OAAOC,OAAP;QACD;MACF,CATc,CAAf;MAWA,OAAOH,MAAP;IAZgC;EAcjC;;AAhEwB,CAA3B;AAAapB,cAAc,eAL1BF,SAAS,CAAC;EACT8B,QAAQ,EAAE,WADD;EAETC,WAAW,EAAE,wBAFJ;EAGTC,SAAS,EAAE,CAAC,uBAAD;AAHF,CAAD,CAKiB,GAAd9B,cAAc,CAAd;SAAAA","names":["Component","quizz_questions","QuizzComponent","constructor","ngOnInit","finished","title","questions","questionSelected","questionIndex","questionMaxIndex","length","playerChoose","value","answers","push","nextStep","finalAnswer","checkResult","answersSelected","results","anwsers","result","reduce","previous","current","i","arr","filter","item","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Thiago\\Documents\\estudos\\projeto-buzzfeed\\src\\app\\components\\quizz\\quizz.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport quizz_questions from \"../../../assets/data/quizz_questions.json\"\nimport { __values } from 'tslib';\n@Component({\n  selector: 'app-quizz',\n  templateUrl: './quizz.component.html',\n  styleUrls: ['./quizz.component.css']\n})\nexport class QuizzComponent implements OnInit {\n[x: string]: any;\n\n  title:string = \"\"\n\n  questions:any\n  questionSelected:any\n\n  answers:string[] = []\n  answersSelected:string = \"\"\n\n  questionIndex:number = 0\n  questionMaxIndex:number = 0\n\n  finished:boolean = false\n\n  constructor() { }\n\n  ngOnInit(): void {\n    if(quizz_questions){\n      this.finished = false\n      this.title = quizz_questions.title\n\n      this.questions = quizz_questions.questions\n      this.questionSelected = this.questions[this.questionIndex]\n\n      this.questionIndex = 0\n      this.questionMaxIndex = this.questions.length\n\n    }\n  }\n\n  playerChoose(value:string){\n    this.answers.push(value)\n    this.nextStep()\n  }\n\n  async nextStep(){\n    this.questionIndex +=1\n\n    if(this.questionMaxIndex > this.questionIndex){\n        this.questionSelected = this.questions[this.questionIndex]\n    }else{\n      const finalAnswer: string = await this.checkResult(this.answers)\n      this.finished = true\n      this.answersSelected = quizz_questions.results[finalAnswer as keyof typeof quizz_questions.results]\n      //Verificar opção ganhadora\n    }\n  }\n\n  async checkResult(anwsers:string[]){\n    const result = anwsers.reduce((previous, current, i, arr)=>{\n      if(\n        arr.filter(item => item === previous).length >\n        arr.filter(item => item === current).length\n      ){\n        return previous\n      }else{\n        return current\n      }\n    })\n\n    return result\n\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module"}